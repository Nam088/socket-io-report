import{_ as a,c as s,f as n,w as t,S as i,e,o as d,d as c,b as o,r as l}from"./app.bf4098c6.js";const h="/socket-io-report/assets/1.078c330e.jpg",m="/socket-io-report/assets/2.0d1798eb.jpg",P=JSON.parse('{"title":"Realtime Processor","description":"","frontmatter":{},"headers":[{"level":2,"title":"Sections","slug":"sections","link":"#sections","children":[]},{"level":2,"title":"\u{1F527} Architecture","slug":"architecture","link":"#architecture","children":[]},{"level":2,"title":"\u{1F4C8} Metrics collected","slug":"metrics-collected","link":"#metrics-collected","children":[]},{"level":2,"title":"\u{1F9EA} Test cases","slug":"test-cases","link":"#test-cases","children":[]},{"level":2,"title":"\u{1F680} Pod Overview (d5)","slug":"pod-overview","link":"#pod-overview","children":[]},{"level":2,"title":"\u2699\uFE0F Resource Configuration (affects WebSocket perf)","slug":"resource-config","link":"#resource-config","children":[]},{"level":2,"title":"\u{1F4CA} Actual Resource Usage","slug":"actual-usage","link":"#actual-usage","children":[]},{"level":2,"title":"\u{1F4E6} Runtime Notes (perf-related)","slug":"runtime-notes","link":"#runtime-notes","children":[]},{"level":2,"title":"\u{1F512} Pod Resource Limits (ulimit -a)","slug":"ulimits","link":"#ulimits","children":[]},{"level":2,"title":"\u{1F4CA} Performance Results (1,000 Connections)","slug":"perf-1k","link":"#perf-1k","children":[{"level":3,"title":"\u{1F680} Connection Performance","slug":"\u{1F680}-connection-performance","link":"#\u{1F680}-connection-performance","children":[]},{"level":3,"title":"\u2709\uFE0F Message Performance","slug":"\u2709\uFE0F-message-performance","link":"#\u2709\uFE0F-message-performance","children":[]},{"level":3,"title":"\u{1F4C8} System Metrics","slug":"\u{1F4C8}-system-metrics","link":"#\u{1F4C8}-system-metrics","children":[]},{"level":3,"title":"\u{1F9EE} Summary","slug":"\u{1F9EE}-summary","link":"#\u{1F9EE}-summary","children":[]}]},{"level":2,"title":"\u{1F4CA} Performance Results (5,000 Connections)","slug":"perf-5k","link":"#perf-5k","children":[{"level":3,"title":"\u{1F680} Connection Performance","slug":"\u{1F680}-connection-performance-1","link":"#\u{1F680}-connection-performance-1","children":[]},{"level":3,"title":"\u{1F4F6} Active Connections Ramp","slug":"\u{1F4F6}-active-connections-ramp","link":"#\u{1F4F6}-active-connections-ramp","children":[]},{"level":3,"title":"\u2709\uFE0F Message Performance","slug":"\u2709\uFE0F-message-performance-1","link":"#\u2709\uFE0F-message-performance-1","children":[]},{"level":3,"title":"\u{1F53B} Connection Retention (post\u2011target)","slug":"\u{1F53B}-connection-retention-post\u2010target","link":"#\u{1F53B}-connection-retention-post\u2010target","children":[]},{"level":3,"title":"\u{1F4C8} System Metrics","slug":"\u{1F4C8}-system-metrics-1","link":"#\u{1F4C8}-system-metrics-1","children":[]},{"level":3,"title":"\u{1F9EE} Summary","slug":"\u{1F9EE}-summary-1","link":"#\u{1F9EE}-summary-1","children":[]}]},{"level":2,"title":"\u{1F4CA} Performance Results (\u224810,000 Connections, capped at 9,990)","slug":"\u{1F4CA}-performance-results-\u224810-000-connections-capped-at-9-990","link":"#\u{1F4CA}-performance-results-\u224810-000-connections-capped-at-9-990","children":[{"level":3,"title":"\u{1F680} Connection Performance","slug":"\u{1F680}-connection-performance-2","link":"#\u{1F680}-connection-performance-2","children":[]},{"level":3,"title":"\u{1F4F6} Active Connections Ramp","slug":"\u{1F4F6}-active-connections-ramp-1","link":"#\u{1F4F6}-active-connections-ramp-1","children":[]},{"level":3,"title":"\u2709\uFE0F Message Performance","slug":"\u2709\uFE0F-message-performance-2","link":"#\u2709\uFE0F-message-performance-2","children":[]},{"level":3,"title":"\u{1F4C8} System Metrics","slug":"\u{1F4C8}-system-metrics-2","link":"#\u{1F4C8}-system-metrics-2","children":[]},{"level":3,"title":"\u{1F9EE} Summary","slug":"\u{1F9EE}-summary-2","link":"#\u{1F9EE}-summary-2","children":[]}]},{"level":2,"title":"\u{1F4CA} Performance Results (9,000 Connections)","slug":"\u{1F4CA}-performance-results-9-000-connections","link":"#\u{1F4CA}-performance-results-9-000-connections","children":[{"level":3,"title":"\u{1F680} Connection Performance","slug":"\u{1F680}-connection-performance-3","link":"#\u{1F680}-connection-performance-3","children":[]},{"level":3,"title":"\u{1F4F6} Active Connections Ramp","slug":"\u{1F4F6}-active-connections-ramp-2","link":"#\u{1F4F6}-active-connections-ramp-2","children":[]},{"level":3,"title":"\u2709\uFE0F Message Performance","slug":"\u2709\uFE0F-message-performance-3","link":"#\u2709\uFE0F-message-performance-3","children":[]},{"level":3,"title":"\u{1F4C8} System Metrics","slug":"\u{1F4C8}-system-metrics-3","link":"#\u{1F4C8}-system-metrics-3","children":[]},{"level":3,"title":"\u{1F9EE} Summary","slug":"\u{1F9EE}-summary-3","link":"#\u{1F9EE}-summary-3","children":[]}]},{"level":2,"title":"\u{1F6A9} Suspicious Signals Summary","slug":"\u{1F6A9}-suspicious-signals-summary","link":"#\u{1F6A9}-suspicious-signals-summary","children":[]},{"level":2,"title":"\u{1F4F7} Screenshots","slug":"\u{1F4F7}-screenshots","link":"#\u{1F4F7}-screenshots","children":[]}],"relativePath":"realtime-processer/index.md","lastUpdated":1758901170000}'),u={name:"realtime-processer/index.md"},p=e('<h1 id="realtime-processor" tabindex="-1">Realtime Processor <a class="header-anchor" href="#realtime-processor" aria-hidden="true">#</a></h1><p>Collects metrics (RAM, CPU, connections, coverage) and writes load reports used in Local Benchmarks.</p><h2 id="sections" tabindex="-1">Sections <a class="header-anchor" href="#sections" aria-hidden="true">#</a></h2><ul><li>\u{1F527} Architecture</li><li>\u{1F4C8} Metrics collected</li><li>\u{1F9EA} Test cases</li><li>\u{1F517} See: <a href="/socket-io-report/local/">/local/</a> for results</li></ul><h2 id="architecture" tabindex="-1">\u{1F527} Architecture <a class="header-anchor" href="#architecture" aria-hidden="true">#</a></h2>',5),b=e(`<h2 id="metrics-collected" tabindex="-1">\u{1F4C8} Metrics collected <a class="header-anchor" href="#metrics-collected" aria-hidden="true">#</a></h2><ul><li>RAM: rss, heapUsed, heapTotal, external, arrayBuffers</li><li>CPU: peak, average (interval-based)</li><li>Connections: total, per-namespace</li><li>Messages: expected vs received, per-batch coverage</li></ul><h2 id="test-cases" tabindex="-1">\u{1F9EA} Test cases <a class="header-anchor" href="#test-cases" aria-hidden="true">#</a></h2><p>Use the benchmark CLI to drive scenarios; reports are generated alongside.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">npm run test:10k</span></span>
<span class="line"><span style="color:#A6ACCD;">npm run test:20k</span></span>
<span class="line"></span></code></pre></div><hr><h2 id="pod-overview" tabindex="-1">\u{1F680} Pod Overview (d5) <a class="header-anchor" href="#pod-overview" aria-hidden="true">#</a></h2><table><thead><tr><th>Component</th><th>Specification</th></tr></thead><tbody><tr><td>Name</td><td>drkumo-realtime-processor-7cd59989f6</td></tr><tr><td>Namespace</td><td>d5</td></tr><tr><td>Status</td><td>Running (2/2 Ready)</td></tr><tr><td>Node</td><td>ip-10-0-14-98.us-west-2.compute.internal</td></tr></tbody></table><h2 id="resource-config" tabindex="-1">\u2699\uFE0F Resource Configuration (affects WebSocket perf) <a class="header-anchor" href="#resource-config" aria-hidden="true">#</a></h2><table><thead><tr><th>Parameter</th><th>Value</th><th>Impact</th></tr></thead><tbody><tr><td>CPU Request/Limit</td><td>2 cores / 4 cores</td><td>Headroom for bursts, avoid CPU throttling</td></tr><tr><td>Memory Request/Limit</td><td>4 GB / 8 GB</td><td>Prevent OOM kill and GC pressure</td></tr><tr><td>File Descriptors (ulimit)</td><td>1,048,576</td><td>Max concurrent connections</td></tr></tbody></table><h2 id="actual-usage" tabindex="-1">\u{1F4CA} Actual Resource Usage <a class="header-anchor" href="#actual-usage" aria-hidden="true">#</a></h2><table><thead><tr><th>Component</th><th>Usage</th><th>Impact</th></tr></thead><tbody><tr><td>CPU Usage</td><td>3m cores</td><td>Minimal CPU load</td></tr><tr><td>Memory Usage</td><td>105 MiB</td><td>Low memory footprint</td></tr><tr><td>Istio Sidecar</td><td>56 MiB</td><td>Adds latency and memory overhead</td></tr></tbody></table><h2 id="runtime-notes" tabindex="-1">\u{1F4E6} Runtime Notes (perf-related) <a class="header-anchor" href="#runtime-notes" aria-hidden="true">#</a></h2><ul><li>Istio: enabled (adds hop/latency and memory). Consider bypass for WS paths if needed.</li><li>App container ports: http 8000/TCP, health 8888/TCP (probes OK).</li><li>Requests/Limits: CPU 2/4 cores, Memory 4/8 GiB.</li></ul><h2 id="ulimits" tabindex="-1">\u{1F512} Pod Resource Limits (ulimit -a) <a class="header-anchor" href="#ulimits" aria-hidden="true">#</a></h2><table><thead><tr><th>Parameter</th><th>Value</th><th>Impact</th></tr></thead><tbody><tr><td>File Descriptors</td><td>1,048,576</td><td>Critical for concurrent connections</td></tr></tbody></table><hr><h2 id="perf-1k" tabindex="-1">\u{1F4CA} Performance Results (1,000 Connections) <a class="header-anchor" href="#perf-1k" aria-hidden="true">#</a></h2><h3 id="\u{1F680}-connection-performance" tabindex="-1">\u{1F680} Connection Performance <a class="header-anchor" href="#\u{1F680}-connection-performance" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Target Connections</td><td>1000</td><td>connections</td></tr><tr><td>Throughput (configured)</td><td>500</td><td>connections/s</td></tr><tr><td>Reported Connection Rate</td><td>162.13</td><td>connections/s</td></tr><tr><td>Ramp Duration</td><td>6.17</td><td>s</td></tr><tr><td>Avg Connection Time</td><td>2442</td><td>ms</td></tr><tr><td>Peak Active Connected</td><td>1000</td><td>connections</td></tr><tr><td>Meets Target</td><td>false</td><td>-</td></tr></tbody></table><h3 id="\u2709\uFE0F-message-performance" tabindex="-1">\u2709\uFE0F Message Performance <a class="header-anchor" href="#\u2709\uFE0F-message-performance" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Broadcasts Sent</td><td>120</td><td>msgs</td></tr><tr><td>Broadcasts Received</td><td>10715</td><td>msgs</td></tr><tr><td>Message Delivery Rate</td><td>8.9</td><td>%</td></tr><tr><td>Send Msgs/sec</td><td>1</td><td>msgs/s</td></tr><tr><td>Recv Msgs/sec</td><td>89.19</td><td>msgs/s</td></tr><tr><td>Payload Size</td><td>120000</td><td>bytes</td></tr><tr><td>Bytes Sent Total</td><td>599,880</td><td>bytes</td></tr><tr><td>Bytes Received Total</td><td>53,564,285</td><td>bytes</td></tr><tr><td>Avg Data per Connection (recv)</td><td>52.31</td><td>KB</td></tr></tbody></table><p>Per-batch message coverage (10 samples)</p><table><thead><tr><th>Batch</th><th>Expected</th><th>Received</th><th>Coverage</th></tr></thead><tbody><tr><td>1</td><td>999</td><td>999</td><td>100.0%</td></tr><tr><td>2</td><td>999</td><td>249</td><td>24.9%</td></tr><tr><td>3</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>4</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>5</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>6</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>7</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>8</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>9</td><td>999</td><td>0</td><td>0.0%</td></tr><tr><td>10</td><td>999</td><td>0</td><td>0.0%</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">Observation</p><p>From phase 3 onward, messages were not delivered (coverage 0%). This indicates a failure after the first two phases that caused subsequent broadcasts to be lost. Despite this, active WebSocket connections remained stable at 5,000.</p></div><h3 id="\u{1F4C8}-system-metrics" tabindex="-1">\u{1F4C8} System Metrics <a class="header-anchor" href="#\u{1F4C8}-system-metrics" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>CPU Peak</td><td>95</td><td>m</td></tr><tr><td>Memory Peak</td><td>182</td><td>MB</td></tr><tr><td>Memory per Connection (approx)</td><td>159</td><td>KB</td></tr></tbody></table><h3 id="\u{1F9EE}-summary" tabindex="-1">\u{1F9EE} Summary <a class="header-anchor" href="#\u{1F9EE}-summary" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Reported Test Duration</td><td>120.1</td><td>s</td></tr><tr><td>Theoretical Max Connections</td><td>13,182</td><td>connections</td></tr><tr><td>Performance Score</td><td>65.3</td><td>%</td></tr><tr><td>Grade</td><td>C+</td><td>-</td></tr></tbody></table><hr><h2 id="perf-5k" tabindex="-1">\u{1F4CA} Performance Results (5,000 Connections) <a class="header-anchor" href="#perf-5k" aria-hidden="true">#</a></h2><h3 id="\u{1F680}-connection-performance-1" tabindex="-1">\u{1F680} Connection Performance <a class="header-anchor" href="#\u{1F680}-connection-performance-1" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Target Connections</td><td>5000</td><td>connections</td></tr><tr><td>Throughput (configured)</td><td>500</td><td>connections/s</td></tr><tr><td>Reported Connection Rate</td><td>193.1</td><td>connections/s</td></tr><tr><td>Ramp Duration</td><td>25.89</td><td>s</td></tr><tr><td>Avg Connection Time</td><td>2166</td><td>ms</td></tr><tr><td>Peak Active Connected</td><td>5000</td><td>connections</td></tr><tr><td>Meets Target</td><td>false</td><td>-</td></tr></tbody></table><h3 id="\u{1F4F6}-active-connections-ramp" tabindex="-1">\u{1F4F6} Active Connections Ramp <a class="header-anchor" href="#\u{1F4F6}-active-connections-ramp" aria-hidden="true">#</a></h3><table><thead><tr><th>Active</th><th>Target</th><th>Percent</th><th>KB/Conn (approx)</th><th>Disconnected</th><th>Errors</th></tr></thead><tbody><tr><td>500</td><td>5000</td><td>10.0%</td><td>342 KB</td><td>0</td><td>0</td></tr><tr><td>1000</td><td>5000</td><td>20.0%</td><td>187 KB</td><td>0</td><td>0</td></tr><tr><td>1500</td><td>5000</td><td>30.0%</td><td>125 KB</td><td>0</td><td>0</td></tr><tr><td>2000</td><td>5000</td><td>40.0%</td><td>94 KB</td><td>0</td><td>0</td></tr><tr><td>2500</td><td>5000</td><td>50.0%</td><td>75 KB</td><td>0</td><td>0</td></tr><tr><td>3000</td><td>5000</td><td>60.0%</td><td>63 KB</td><td>0</td><td>0</td></tr><tr><td>3500</td><td>5000</td><td>70.0%</td><td>57 KB</td><td>0</td><td>0</td></tr><tr><td>4000</td><td>5000</td><td>80.0%</td><td>53 KB</td><td>0</td><td>0</td></tr><tr><td>4500</td><td>5000</td><td>90.0%</td><td>48 KB</td><td>0</td><td>0</td></tr><tr><td>5000</td><td>5000</td><td>100.0%</td><td>45 KB</td><td>0</td><td>0</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Reached target</p><p>Active connections reached and maintained at 5,000.</p></div><h3 id="\u2709\uFE0F-message-performance-1" tabindex="-1">\u2709\uFE0F Message Performance <a class="header-anchor" href="#\u2709\uFE0F-message-performance-1" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Broadcasts Sent</td><td>120</td><td>msgs</td></tr><tr><td>Broadcasts Received</td><td>10,725</td><td>msgs</td></tr><tr><td>Message Delivery Rate</td><td>1.8</td><td>%</td></tr><tr><td>Send Msgs/sec</td><td>1</td><td>msgs/s</td></tr><tr><td>Recv Msgs/sec</td><td>89.35</td><td>msgs/s</td></tr><tr><td>Payload Size</td><td>120000</td><td>bytes</td></tr><tr><td>Bytes Sent Total</td><td>599,880</td><td>bytes</td></tr><tr><td>Bytes Received Total</td><td>53,614,275</td><td>bytes</td></tr><tr><td>Avg Data per Connection (recv)</td><td>10.47</td><td>KB</td></tr></tbody></table><p>Per-batch message coverage (sample)</p><table><thead><tr><th>Batch</th><th>Expected</th><th>Received</th><th>Coverage</th></tr></thead><tbody><tr><td>1</td><td>4,999</td><td>1,297</td><td>25.9%</td></tr><tr><td>2</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>3</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>4</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>5</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>6</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>7</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>8</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>9</td><td>4,999</td><td>0</td><td>0.0%</td></tr><tr><td>10</td><td>4,999</td><td>0</td><td>0.0%</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">Observation</p><p>At 5k active, coverage remained very low after the first batch while connections stayed stable. Investigate server broadcast path, namespace/room routing, or mesh timeouts.</p></div><h3 id="\u{1F53B}-connection-retention-post\u2010target" tabindex="-1">\u{1F53B} Connection Retention (post\u2011target) <a class="header-anchor" href="#\u{1F53B}-connection-retention-post\u2010target" aria-hidden="true">#</a></h3><table><thead><tr><th>Active</th><th>Target</th><th>Percent</th></tr></thead><tbody><tr><td>4,961</td><td>5,000</td><td>99.2%</td></tr><tr><td>4,784</td><td>5,000</td><td>95.7%</td></tr><tr><td>4,763</td><td>5,000</td><td>95.3%</td></tr><tr><td>4,760</td><td>5,000</td><td>95.2%</td></tr><tr><td>4,182</td><td>5,000</td><td>83.6%</td></tr><tr><td>3,322</td><td>5,000</td><td>66.4%</td></tr><tr><td>2,608</td><td>5,000</td><td>52.2%</td></tr><tr><td>1,344</td><td>5,000</td><td>26.9%</td></tr><tr><td>204</td><td>5,000</td><td>4.1%</td></tr></tbody></table><div class="danger custom-block"><p class="custom-block-title">Connection loss trend</p><p>After reaching 5,000 active connections, the active count gradually decreased over time (table above). This indicates retention issues (server back\u2011pressure, timeouts, or upstream network policies). Correlate with server logs and mesh timeouts.</p></div><h3 id="\u{1F4C8}-system-metrics-1" tabindex="-1">\u{1F4C8} System Metrics <a class="header-anchor" href="#\u{1F4C8}-system-metrics-1" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>CPU Peak</td><td>0.0377</td><td>cores</td></tr><tr><td>Memory Peak</td><td>343</td><td>MiB</td></tr><tr><td>Memory per Connection (approx)</td><td>46</td><td>KB</td></tr></tbody></table><h3 id="\u{1F9EE}-summary-1" tabindex="-1">\u{1F9EE} Summary <a class="header-anchor" href="#\u{1F9EE}-summary-1" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Reported Test Duration</td><td>120</td><td>s</td></tr><tr><td>Theoretical Max Connections</td><td>45,266</td><td>connections</td></tr><tr><td>Performance Score</td><td>70.5</td><td>%</td></tr><tr><td>Grade</td><td>B-</td><td>-</td></tr></tbody></table><hr><h2 id="\u{1F4CA}-performance-results-\u224810-000-connections-capped-at-9-990" tabindex="-1">\u{1F4CA} Performance Results (\u224810,000 Connections, capped at 9,990) <a class="header-anchor" href="#\u{1F4CA}-performance-results-\u224810-000-connections-capped-at-9-990" aria-hidden="true">#</a></h2><h3 id="\u{1F680}-connection-performance-2" tabindex="-1">\u{1F680} Connection Performance <a class="header-anchor" href="#\u{1F680}-connection-performance-2" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Target Connections</td><td>10000</td><td>connections</td></tr><tr><td>Throughput (configured)</td><td>500</td><td>connections/s</td></tr><tr><td>Reported Connection Rate</td><td>211.4</td><td>connections/s</td></tr><tr><td>Ramp Duration</td><td>47.3</td><td>s</td></tr><tr><td>Avg Connection Time</td><td>2098</td><td>ms</td></tr><tr><td>Peak Active Connected</td><td>9,990</td><td>connections</td></tr><tr><td>Meets Target</td><td>false</td><td>-</td></tr></tbody></table><h3 id="\u{1F4F6}-active-connections-ramp-1" tabindex="-1">\u{1F4F6} Active Connections Ramp <a class="header-anchor" href="#\u{1F4F6}-active-connections-ramp-1" aria-hidden="true">#</a></h3><table><thead><tr><th>Active</th><th>Target</th><th>Percent</th><th>KB/Conn (approx)</th></tr></thead><tbody><tr><td>500</td><td>10000</td><td>5.0%</td><td>255 KB</td></tr><tr><td>1000</td><td>10000</td><td>10.0%</td><td>150 KB</td></tr><tr><td>2000</td><td>10000</td><td>20.0%</td><td>86 KB</td></tr><tr><td>3000</td><td>10000</td><td>30.0%</td><td>62 KB</td></tr><tr><td>4000</td><td>10000</td><td>40.0%</td><td>48 KB</td></tr><tr><td>5000</td><td>10000</td><td>50.0%</td><td>43 KB</td></tr><tr><td>7000</td><td>10000</td><td>70.0%</td><td>35 KB</td></tr><tr><td>9000</td><td>10000</td><td>90.0%</td><td>31 KB</td></tr><tr><td>9990</td><td>10000</td><td>99.9%</td><td>29 KB</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Reached capacity</p><p>Connections plateaued at 9,990 (limit), not 10,000.</p></div><h3 id="\u2709\uFE0F-message-performance-2" tabindex="-1">\u2709\uFE0F Message Performance <a class="header-anchor" href="#\u2709\uFE0F-message-performance-2" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Broadcasts Sent</td><td>120</td><td>msgs</td></tr><tr><td>Broadcasts Received</td><td>5,412</td><td>msgs</td></tr><tr><td>Message Delivery Rate</td><td>0.9</td><td>%</td></tr><tr><td>Send Msgs/sec</td><td>1</td><td>msgs/s</td></tr><tr><td>Recv Msgs/sec</td><td>45.1</td><td>msgs/s</td></tr><tr><td>Payload Size</td><td>120000</td><td>bytes</td></tr><tr><td>Bytes Sent Total</td><td>395,100</td><td>bytes</td></tr><tr><td>Bytes Received Total</td><td>25,364,000</td><td>bytes</td></tr><tr><td>Avg Data per Connection (recv)</td><td>2.5</td><td>KB</td></tr></tbody></table><p>Per-batch message coverage (sample)</p><table><thead><tr><th>Batch</th><th>Expected</th><th>Received</th><th>Coverage</th></tr></thead><tbody><tr><td>1</td><td>9,990</td><td>1,142</td><td>11.4%</td></tr><tr><td>2</td><td>9,990</td><td>0</td><td>0.0%</td></tr><tr><td>3</td><td>9,990</td><td>0</td><td>0.0%</td></tr><tr><td>4</td><td>9,990</td><td>0</td><td>0.0%</td></tr><tr><td>5</td><td>9,990</td><td>0</td><td>0.0%</td></tr></tbody></table><h3 id="\u{1F4C8}-system-metrics-2" tabindex="-1">\u{1F4C8} System Metrics <a class="header-anchor" href="#\u{1F4C8}-system-metrics-2" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>CPU Peak</td><td>0.112</td><td>cores</td></tr><tr><td>Memory Peak</td><td>472</td><td>MiB</td></tr><tr><td>Memory per Connection (approx)</td><td>29</td><td>KB</td></tr></tbody></table><h3 id="\u{1F9EE}-summary-2" tabindex="-1">\u{1F9EE} Summary <a class="header-anchor" href="#\u{1F9EE}-summary-2" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Reported Test Duration</td><td>120.0</td><td>s</td></tr><tr><td>Theoretical Max Connections</td><td>73,500</td><td>connections</td></tr><tr><td>Performance Score</td><td>69.4</td><td>%</td></tr><tr><td>Grade</td><td>B-</td><td>-</td></tr></tbody></table><h2 id="\u{1F4CA}-performance-results-9-000-connections" tabindex="-1">\u{1F4CA} Performance Results (9,000 Connections) <a class="header-anchor" href="#\u{1F4CA}-performance-results-9-000-connections" aria-hidden="true">#</a></h2><h3 id="\u{1F680}-connection-performance-3" tabindex="-1">\u{1F680} Connection Performance <a class="header-anchor" href="#\u{1F680}-connection-performance-3" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Target Connections</td><td>9000</td><td>connections</td></tr><tr><td>Throughput (configured)</td><td>500</td><td>connections/s</td></tr><tr><td>Reported Connection Rate</td><td>207.89</td><td>connections/s</td></tr><tr><td>Ramp Duration</td><td>43.29</td><td>s</td></tr><tr><td>Avg Connection Time</td><td>1975</td><td>ms</td></tr><tr><td>Peak Active Connected</td><td>9000</td><td>connections</td></tr><tr><td>Meets Target</td><td>false</td><td>-</td></tr></tbody></table><h3 id="\u{1F4F6}-active-connections-ramp-2" tabindex="-1">\u{1F4F6} Active Connections Ramp <a class="header-anchor" href="#\u{1F4F6}-active-connections-ramp-2" aria-hidden="true">#</a></h3><table><thead><tr><th>Active</th><th>Target</th><th>Percent</th><th>KB/Conn (approx)</th></tr></thead><tbody><tr><td>500</td><td>9000</td><td>5.6%</td><td>256 KB</td></tr><tr><td>1000</td><td>9000</td><td>11.1%</td><td>152 KB</td></tr><tr><td>1500</td><td>9000</td><td>16.7%</td><td>111 KB</td></tr><tr><td>2000</td><td>9000</td><td>22.2%</td><td>87 KB</td></tr><tr><td>2500</td><td>9000</td><td>27.8%</td><td>73 KB</td></tr><tr><td>3000</td><td>9000</td><td>33.3%</td><td>61 KB</td></tr><tr><td>3500</td><td>9000</td><td>38.9%</td><td>53 KB</td></tr><tr><td>4000</td><td>9000</td><td>44.4%</td><td>46 KB</td></tr><tr><td>4500</td><td>9000</td><td>50.0%</td><td>41 KB</td></tr><tr><td>5000</td><td>9000</td><td>55.6%</td><td>39 KB</td></tr><tr><td>6000</td><td>9000</td><td>66.7%</td><td>34 KB</td></tr><tr><td>7000</td><td>9000</td><td>77.8%</td><td>32 KB</td></tr><tr><td>8000</td><td>9000</td><td>88.9%</td><td>30 KB</td></tr><tr><td>9000</td><td>9000</td><td>100.0%</td><td>29 KB</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Reached target</p><p>Active connections reached 9,000 and initially held steady before degradation.</p></div><h3 id="\u2709\uFE0F-message-performance-3" tabindex="-1">\u2709\uFE0F Message Performance <a class="header-anchor" href="#\u2709\uFE0F-message-performance-3" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Broadcasts Sent</td><td>120</td><td>msgs</td></tr><tr><td>Broadcasts Received</td><td>4,037</td><td>msgs</td></tr><tr><td>Message Delivery Rate</td><td>0.4</td><td>%</td></tr><tr><td>Send Msgs/sec</td><td>1</td><td>msgs/s</td></tr><tr><td>Recv Msgs/sec</td><td>33.6</td><td>msgs/s</td></tr><tr><td>Payload Size</td><td>120000</td><td>bytes</td></tr><tr><td>Bytes Sent Total</td><td>364,927</td><td>bytes</td></tr><tr><td>Bytes Received Total</td><td>20,180,963</td><td>bytes</td></tr><tr><td>Avg Data per Connection (recv)</td><td>2.19</td><td>KB</td></tr></tbody></table><p>Per-batch message coverage (sample)</p><table><thead><tr><th>Batch</th><th>Expected</th><th>Received</th><th>Coverage</th></tr></thead><tbody><tr><td>1</td><td>8,999</td><td>1,296</td><td>14.4%</td></tr><tr><td>2</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>3</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>4</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>5</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>6</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>7</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>8</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>9</td><td>8,999</td><td>0</td><td>0.0%</td></tr><tr><td>10</td><td>8,999</td><td>0</td><td>0.0%</td></tr></tbody></table><div class="danger custom-block"><p class="custom-block-title">Suspicious signals</p><ul><li>After reaching 9k active, subsequent broadcasts drop to near 0% coverage while connections remain high.</li><li>Active connections later decay from 9k \u2192 8k \u2192 6k \u2192 4k \u2192 ~1.3k \u2192 ~100, indicating retention issues.</li><li>CPU peak observed at 0.106 cores; RAM peak ~450 MB during this test. Possible causes: server broadcast back\u2011pressure, WS upgrade path under mesh, idle/egress timeouts, or queue overflow.</li></ul></div><h3 id="\u{1F4C8}-system-metrics-3" tabindex="-1">\u{1F4C8} System Metrics <a class="header-anchor" href="#\u{1F4C8}-system-metrics-3" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>CPU Peak</td><td>0.106</td><td>cores</td></tr><tr><td>Memory Peak</td><td>450</td><td>MiB</td></tr><tr><td>Memory per Connection (approx)</td><td>29</td><td>KB</td></tr></tbody></table><h3 id="\u{1F9EE}-summary-3" tabindex="-1">\u{1F9EE} Summary <a class="header-anchor" href="#\u{1F9EE}-summary-3" aria-hidden="true">#</a></h3><table><thead><tr><th>Metric</th><th>Value</th><th>Unit</th></tr></thead><tbody><tr><td>Reported Test Duration</td><td>120.1</td><td>s</td></tr><tr><td>Theoretical Max Connections</td><td>71,997</td><td>connections</td></tr><tr><td>Performance Score</td><td>70.1</td><td>%</td></tr><tr><td>Grade</td><td>B-</td><td>-</td></tr></tbody></table><h2 id="\u{1F6A9}-suspicious-signals-summary" tabindex="-1">\u{1F6A9} Suspicious Signals Summary <a class="header-anchor" href="#\u{1F6A9}-suspicious-signals-summary" aria-hidden="true">#</a></h2><ul><li>Only the first broadcast batch delivers (~1.3k msgs); subsequent batches drop to near 0% at 5k, 9k, and ~10k (capped 9,990).</li><li>Cumulative received stalls around 1,296\u20131,297 shortly after reaching target actives, even while connections remain high initially.</li><li>After reaching target, active connections decay over time (e.g., 9k \u2192 8k \u2192 6k \u2192 4k \u2192 ~1.3k \u2192 ~100) indicating retention/timeouts/back\u2011pressure effects.</li><li>CPU peaks low-to-moderate (0.0377\u20130.106 cores) while memory rises (182\u2013450+ MiB), suggesting bottleneck is not CPU but I/O/queueing/policy.</li><li>Istio sidecar present (added hop/latency and memory) across runs.</li></ul><hr><h2 id="\u{1F4F7}-screenshots" tabindex="-1">\u{1F4F7} Screenshots <a class="header-anchor" href="#\u{1F4F7}-screenshots" aria-hidden="true">#</a></h2><p><img src="`+h+'" alt="Realtime chart 1"></p><p><img src="'+m+'" alt="Realtime chart 2"></p>',84);function g(y,v,f,k,C,B){const r=l("Mermaid");return d(),s("div",null,[p,(d(),n(i,null,{default:t(()=>[c(r,{id:"mermaid-34",class:"mermaid",graph:"flowchart%20TD%0A%20%20A%5BCollector%20schedule%5D%20--%3E%20B%5BSample%20Node%20process%5D%0A%20%20B%20--%3E%20C%5BQuery%20Socket.IO%20stats%5D%0A%20%20C%20--%3E%20D%5BAggregate%20%2B%20compute%20coverage%5D%0A%20%20D%20--%3E%20E%5BWrite%20JSON%20load%20report%5D%0A%20%20E%20--%3E%20F%5BRender%20tables%20in%20Local%5D%0A"})]),fallback:t(()=>[o(" Loading... ")]),_:1})),b])}const R=a(u,[["render",g]]);export{P as __pageData,R as default};
